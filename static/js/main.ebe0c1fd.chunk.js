(this["webpackJsonpfrontend-applications"]=this["webpackJsonpfrontend-applications"]||[]).push([[0],{141:function(t,e,n){},148:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),c=n.n(a),i=n(44),o=n.n(i),s=(n(141),n(3)),l=n(5),u=n(4),d=n(45);function f(){var t=Object(l.a)(["\n    ",";\n.App {\n  background-color: ",";\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n}\n\n.province {\n\tstroke-opacity: 0.5;\n\tstroke-width: 1px;\n\t/* stroke: none; */\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n}\n.gemeente {\n\tfill-opacity: 1;\n\n\t/* stroke: white; */\n}\n\n.provinces {\n\tfill: ",";\n\tstroke: ",";\n\ttransition: 0.3s;\n}\n\n.provinces .active {\n\topacity: .5;\n\ttransition: visibility 0s, opacity 0.5s linear;\n}\n\n.province-borders {\n\tfill: none;\n\tstroke: var(--white);\n\tstroke-width: 1;\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n\tpointer-events: none;\n}\n\n.gemeente-grens {\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n\tstroke: ",";\n\tstroke-opacity: 1;\n\t/* stroke-width: 0.1em; */\n\t/* transition-duration: 0.5s; */\n\tfill: ",";\n}\n\n    "]);return f=function(){return t},t}var j={darkBlue:"#2F80ED",blue:"#2D9CDB",lightBlue:"#B3E5FC",dark:"#333333",darkGray:"#4F4F4F",midGray:"#828282",lightGray:"#BDBDBD",light:"#E0E0E0",white:"#F2F2F2",darkGreen:"#219653",green:"#27AE60",lightGreen:"#6FCF97",orange:"#F2994A",darkPurple:"#9B51E0",purple:"#BB6BD9",red:"#EB5757",yellow:"#F2C94C"},b=Object(u.createGlobalStyle)(f(),d.normalize,j.white,j.lightGreen,j.white,j.green,j.lightGreen),p=n(2),h=n(8),O=function(t){return t.id=+t.id,t.usage=t.usage.replace("park and ride","P+R Parkeerplaats").replace("garage","Parkeergarage").replace("terrain","Parkeerterrein"),t.latitude=+t.latitude,t.longitude=+t.longitude,t.capacity=+t.capacity,t};n(51);var v=Object(a.createContext)(null),g=function(t){var e=t.size,n=t.children,c=t.className,i=e.width,o=e.height,l=Object(a.useRef)(null),u=Object(a.useState)(null),d=Object(s.a)(u,2),f=d[0],j=d[1];return Object(a.useEffect)((function(){return j(l.current)}),[]),Object(r.jsx)("svg",{className:c,ref:l,viewBox:"0 0 ".concat("800"," ","600"),width:i,height:o,children:Object(r.jsx)(v.Provider,{value:f,children:n})})};function m(){return Object(a.useContext)(v)}function k(){var t=Object(l.a)(["\n\theight: 100vh;\n\twidth: 100vw;\n\tbackground: ",";\n\tz-index: 4;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]);return k=function(){return t},t}function x(){var t=Object(l.a)(["\n\tanimation: rotate 2s linear infinite;\n\tmargin: -25px 0 0 -25px;\n\twidth: 50px;\n\theight: 50px;\n\n\t& .path {\n\t\tstroke: ",";\n\t\tstroke-linecap: round;\n\t\tanimation: dash 1.5s ease-in-out infinite;\n\t}\n\n\t@keyframes rotate {\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t@keyframes dash {\n\t\t0% {\n\t\t\tstroke-dasharray: 1, 150;\n\t\t\tstroke-dashoffset: 0;\n\t\t}\n\t\t50% {\n\t\t\tstroke-dasharray: 90, 150;\n\t\t\tstroke-dashoffset: -35;\n\t\t}\n\t\t100% {\n\t\t\tstroke-dasharray: 90, 150;\n\t\t\tstroke-dashoffset: -124;\n\t\t}\n\t}\n"]);return x=function(){return t},t}var y=function(){return Object(r.jsx)(S,{children:Object(r.jsxs)(w,{viewBox:"0 0 50 50",children:[Object(r.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"}),Object(r.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"}),Object(r.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"})]})})},w=u.default.svg(x(),j.green),S=u.default.div(k(),j.primary);function B(){var t=Object(l.a)(["\n\ttransition-duration: 100ms;\n\t/* fill: ","; */\n\tfill-opacity: 1;\n\t/* stroke: ","; */\n\t/* stroke-width: 0.5; */\n\tstroke-width: ",";\n\t&:hover {\n\t\tfill: ",";\n\t}\n"]);return B=function(){return t},t}function N(){var t=Object(l.a)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\tmargin: ",";\n\tmax-width: 100%;\n\n\t.map {\n\t\tborder: 1px solid red;\n\t}\n\t.legend {\n\t\tposition: absolute;\n\n\t\tbottom: 0;\n\t\tleft: 10px;\n\t}\n"]);return N=function(){return t},t}var E=u.default.div(N(),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1440;return"".concat(t/e*100,"vw")}(32)),F=u.default.circle(B(),(function(t){return t.active,j.blue}),(function(t){return t.active?j.red:j.blue}),(function(t){return t.active?1:3}),j.darkBlue),z=function(t){var e=t.children,n=t.path,c=t.activeProvince,i=t.size,o=t.setActiveProvince,l=i.width,u=i.height,d=m(),f=Object(a.useState)({x:0,y:0,k:1}),j=Object(s.a)(f,2),b=j[0],h=b.x,O=b.y,v=b.k,g=j[1],k=function(t){var e=t.transform;g(e)};return Object(a.useEffect)((function(){if(d){var t=Object(p.i)(d),e=Object(p.j)().scaleExtent([1,8]).on("zoom",k);if(c){var r=Object(p.i)(c).node(),a=n.bounds(r),i=Object(s.a)(a,2),f=Object(s.a)(i[0],2),j=f[0],b=f[1],h=Object(s.a)(i[1],2),O=h[0],v=h[1];t.transition().duration(750).call(e.transform,p.k.translate(l/2,u/2).scale(Math.min(8,.9/Math.max((O-j)/l,(v-b)/u))).translate(-(j+O)/2,-(b+v)/2))}else t.transition().duration(750).call(e.transform,p.k,Object(p.l)(t.node()).invert([l/2,u/2])),o(null);t.call(e)}}),[d,c]),Object(r.jsx)("g",{transform:"translate(".concat(h,", ").concat(O,") scale(").concat(v,")"),strokeWidth:1/v,children:e})};function P(){var t=Object(l.a)(["\n\ttransition-duration: 300ms;\n\t/* fill: ","; */\n\tfill-opacity: 1;\n\t/* stroke: ","; */\n\t/* stroke-width: 0.5; */\n\tstroke-width: ",";\n\t&:hover {\n\t\tfill: ",";\n\t}\n"]);return P=function(){return t},t}function C(){var t=Object(l.a)(["\n\t/* transition-duration: 700ms; */\n\n\t:hover {\n\t\topacity: 0.7;\n\t}\n"]);return C=function(){return t},t}var U=function(t){return t.capacity},G=function(t){var e=t.d,n=t.active,a=t.onClick;return Object(r.jsx)(D,{className:n?"province active":"province",d:e,onClick:a,title:e.properties})},D=u.default.path(C()),A=function(t){var e=t.data,n=t.projection,a=t.colorScale,c=t.colorValue,i=(t.filteredUsage,t.activeProvince),o=t.selectedUsage,l=t.fadeOpacity,u=t.sizeScale,d=t.sizeValue;return Object(r.jsx)("g",{className:"parking-locations",children:e.map((function(t){var e=n([t.longitude,t.latitude]),f=Object(s.a)(e,2),j=f[0],b=f[1];return console.log(o),Object(r.jsx)(V,{cx:j,cy:b,r:function(t){return i&&i.properties.statnaam===t.province?1.2:i?1:u(d(t))}(t),fill:a(c(t)),selectedUsage:o,usage:t.usage,opacity:o&&t.usage!==o?l:.8},t.id)}))})},V=u.default.circle(P(),(function(t){return t.active,j.blue}),(function(t){return t.active?j.red:j.blue}),(function(t){return t.active?1:3}),j.darkBlue),L=function(t){var e=t.nld,n=t.penr,c=t.size,i=t.filteredUsage,o=t.colorScale,l=t.colorValue,u=t.selectedUsage,d=t.fadeOpacity,f=e.gemeente,j=e.province,b=e.provinceBorder,h=Object(p.b)().scale(6e3).center([5.4,52.2]),O=Object(p.c)().projection(h);console.log(n);var v=Object(a.useMemo)((function(){return Object(p.h)().domain([0,Object(p.e)(n,U)]).range([0,15])}),[e,n,U,15]),g=Object(a.useState)(null),m=Object(s.a)(g,2),k=m[0],x=m[1],y=Object(a.useState)(null),w=Object(s.a)(y,2);w[0],w[1];return Object(a.useEffect)((function(){}),[]),Object(r.jsxs)(z,{setActiveProvince:x,activeProvince:k,path:O,size:c,children:[Object(r.jsx)("g",{className:"gemeentes",children:f.features.map((function(t){return Object(r.jsx)("path",{className:"gemeente-grens",d:O(t)},t.id)}))}),Object(r.jsx)("g",{className:"provinces",children:j.features.map((function(t){return Object(r.jsx)(G,{data:t,d:O(t),title:t.properties.statnaam,active:k===t,onClick:function(){return function(t){return null===k||k!==t?x(t):k===t?x(null):void 0}(t)}},t.id)}))}),Object(r.jsx)("path",{className:"province-borders",d:O(b)}),Object(r.jsx)(A,{filteredUsage:i,data:n,projection:h,colorScale:o,colorValue:l,activeProvince:k,selectedUsage:u,fadeOpacity:d,sizeScale:v,sizeValue:U})]})};function M(){var t=Object(l.a)([""]);return M=function(){return t},t}u.default.g(M()),n(52);var T=function(t){var e=t.colorScale,n=t.tickSpacing,a=void 0===n?25:n,c=t.tickSize,i=void 0===c?8:c,o=t.tickTextOffset,s=void 0===o?25:o,l=t.selectUsage,u=t.selectedUsage,d=t.fadeOpacity,f=t.LegendLabel;t.className;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("g",{transform:"translate(".concat(610,", 450)"),children:[Object(r.jsx)("text",{x:35,y:-25,className:"axis-label",textAnchor:"middle",children:f}),e.domain().map((function(t,n){return Object(r.jsxs)("g",{className:"tick",transform:"translate(0,".concat(n*a,")"),onMouseEnter:function(){l(t)},onMouseOut:function(){l(null)},children:[Object(r.jsx)(F,{fill:e(t),r:i,opacity:u&&t!==u?d:1}),Object(r.jsx)("text",{x:s,dy:".32em",children:t})]},n)}))]})})},W=function(){var t=function(){var t=Object(a.useState)(null),e=Object(s.a)(t,2),n=e[0],r=e[1];return Object(a.useEffect)((function(){Object(p.d)("https://gist.githubusercontent.com/GiovanniDw/9ebe42d142f40e58e333e546a82f9b0d/raw/1f4e17c5e2a072e12ed5b2dce628413294a13c5e/nl_2020.json").then((function(t){var e=t.objects,n=e.gemeente_2020,a=e.provincie_2020;r({gemeente:Object(h.a)(t,n),province:Object(h.a)(t,a),provinceBorder:Object(h.b)(t,a,(function(t,e){return t!==e}))})}))}),[]),n}(),e=function(){var t=Object(a.useState)(null),e=Object(s.a)(t,2),n=e[0],r=e[1];return Object(a.useEffect)((function(){Object(p.a)(";","https://gist.githubusercontent.com/GiovanniDw/9ebe42d142f40e58e333e546a82f9b0d/raw/5f69fabb70e85ae64cf19633aadd38fcf26a75a4/parkeerData.csv",O).then(r)}),[]),n}(),n=(function(){var t=Object(a.useState)(null),e=Object(s.a)(t,2),n=e[0],r=e[1];Object(a.useEffect)((function(){Object(p.d)("https://unpkg.com/world-atlas@2.0.2/countries-10m.json").then((function(t){var e=t.objects,n=e.countries,a=e.land;r({land:Object(h.a)(t,a),countries:Object(h.b)(t,n,(function(t,e){return t!==e}))})}))}),[])}(),Object(a.useRef)(null)),c=Object(a.useState)({width:800,height:600}),i=Object(s.a)(c,2),o=i[0],l=(i[1],Object(a.useState)(null)),u=Object(s.a)(l,2),d=u[0],f=u[1];if(!t||!e||!n)return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(y,{})});var v=function(t){return t.usage},m=e.filter((function(t){return d===v(t)})),k=Object(p.g)().domain(e.map(v)).range([j.darkBlue,j.darkGray,j.yellow]);return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(E,{children:Object(r.jsx)("div",{ref:n,style:{marginBottom:"2rem"},children:Object(r.jsxs)(g,{className:"map",size:o,children:[Object(r.jsx)(L,{size:o,nld:t,penr:e,selectedUsage:d,filteredUsage:m,colorScale:k,colorValue:v,fadeOpacity:.1}),Object(r.jsx)(T,{className:"legend",penr:e,selectUsage:f,selectedUsage:d,colorScale:k,colorValue:v,tickSpacing:22,tickSize:10,tickTextOffset:12,fadeOpacity:.1,LegendLabel:"Gebruik"})]})})}),Object(r.jsx)(b,{})]})},R=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,149)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(W,{})}),document.getElementById("root")),R()}},[[148,1,2]]]);
//# sourceMappingURL=main.ebe0c1fd.chunk.js.map