(this["webpackJsonpfrontend-applications"]=this["webpackJsonpfrontend-applications"]||[]).push([[0],{145:function(t,e,n){"use strict";n.r(e);var r=n(1),i=n(0),a=n.n(i),c=n(45),o=n.n(c),s=n(2),l=(n(44),n(5)),u=n(4),d=n(46);function f(){var t=Object(l.a)(["\n    ",";\n\n\t* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n  html {\n\t\n\t  box-sizing: border-box;\n        overflow-y: scroll;\n\t\t\n  }\n  #root {\n\t  min-width:100vw;\n\t  min-height:100vh;\n  }\n  :root {\n\n\tbody {\n\t\tbackground-color: ",";\n\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',\n\t\t'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',\n\t\t'Helvetica Neue', sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\t","\n\tmin-width:100vw;\n\t\tmin-height:100vh;\n\t\n\t}\n\tcode {\n\tfont-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n\t\tmonospace;\n}\n\n      font-size: ",";\n\n      @media (min-width: 768px) {\n        font-size: ",";\n      }\n\n      @media (min-width: 1024px) {\n        font-size: ",";\n      }\n    }\n\n\n.App {\n  background-color: ",";\n  max-width:100vw;\n\tmax-height:100vh;\n  ","\n}\n.viz-wrapper {\n\twidth:100%;\n\theight:100%;\n\tdisplay:flex;\n\tposition:relative;\n\n\t.title {\n\t\tposition: absolute;\n\t\tpadding-left:1em;\n\t}\n}\n\n.province {\n\tstroke-opacity: 0.5;\n\tstroke-width: 1px;\n\t/* stroke: none; */\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n}\n.gemeente {\n\tfill-opacity: 1;\n\t\n\t/* stroke: white; */\n}\n.gemeente-borders{\n\tfill: none;\n\tstroke: ",";\n\tstroke-width: 1;\n\tstroke-linejoin: round;\n\t","\n\tpointer-events: none;\n}\n.provinces {\n\tfill: ",";\n\tstroke: ",";\n\ttransition: 0.3s;\n}\n\n.provinces .active {\n\topacity: .8;\n\ttransition: visibility 0s, opacity 0.5s linear;\n}\n\n.province-borders {\n\tfill: none;\n\tstroke: var(--white);\n\tstroke-width: 1;\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n\tpointer-events: none;\n}\n\n.gemeente-grens {\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n\tstroke: ",";\n\tstroke-opacity: 1;\n\t/* stroke-width: 0.1em; */\n\t/* transition-duration: 0.5s; */\n\tfill: ",";\n}\n\n    "]);return f=function(){return t},t}var b={darkBlue:"#2F80ED",blue:"#2D9CDB",lightBlue:"#B3E5FC",dark:"#333333",darkGray:"#4F4F4F",midGray:"#828282",lightGray:"#BDBDBD",light:"#E0E0E0",white:"#F2F2F2",darkGreen:"#219653",green:"#27AE60",lightGreen:"#6FCF97",orange:"#F2994A",darkPurple:"#9B51E0",purple:"#BB6BD9",red:"#EB5757",yellow:"#F2C94C"},j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1440;return"".concat(t/e*100,"vw")},h=Object(u.createGlobalStyle)(f(),d.normalize,b.white,"",j(24),j(24),j(24),b.white,"",b.lightGreen,"",b.lightGreen,b.white,b.green,b.lightGreen),p=n(3),v=n(7),g=function(t){return t.province=t.province.replace("Frysl\xe2n","Friesland"),t.id=+t.id,t.usage=t.usage.replace("park and ride","P+R Parkeerplaats").replace("garage","Parkeergarage").replace("terrain","Parkeerterrein"),t.latitude=+t.latitude,t.longitude=+t.longitude,t.capacity=+t.capacity,t};function O(t){return t?t.getBoundingClientRect():{bottom:0,height:0,left:0,right:0,top:0,width:0}}var m=Object(i.createContext)(null),k=function(t){var e=t.size,n=t.children,a=t.className;if(e){var c=e.width,o=e.height,l=Object(i.useRef)(null),u=Object(i.useState)(null),d=Object(s.a)(u,2),f=d[0],b=d[1];return Object(i.useEffect)((function(){return b(l.current)}),[]),Object(r.jsx)("svg",{className:a,ref:l,width:c,height:o,children:Object(r.jsx)(m.Provider,{value:f,children:n})})}};function x(){return Object(i.useContext)(m)}function y(){var t=Object(l.a)(["\n\theight: 100vh;\n\twidth: 100vw;\n\tbackground: ",";\n\tz-index: 4;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]);return y=function(){return t},t}function w(){var t=Object(l.a)(["\n\tanimation: rotate 2s linear infinite;\n\tmargin: -25px 0 0 -25px;\n\twidth: 50px;\n\theight: 50px;\n\n\t& .path {\n\t\tstroke: ",";\n\t\tstroke-linecap: round;\n\t\tanimation: dash 1.5s ease-in-out infinite;\n\t}\n\n\t@keyframes rotate {\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t@keyframes dash {\n\t\t0% {\n\t\t\tstroke-dasharray: 1, 150;\n\t\t\tstroke-dashoffset: 0;\n\t\t}\n\t\t50% {\n\t\t\tstroke-dasharray: 90, 150;\n\t\t\tstroke-dashoffset: -35;\n\t\t}\n\t\t100% {\n\t\t\tstroke-dasharray: 90, 150;\n\t\t\tstroke-dashoffset: -124;\n\t\t}\n\t}\n"]);return w=function(){return t},t}var S=function(){return Object(r.jsx)(B,{children:Object(r.jsxs)(z,{viewBox:"0 0 50 50",children:[Object(r.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"}),Object(r.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"}),Object(r.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"})]})})},z=u.default.svg(w(),b.green),B=u.default.div(y(),b.primary);function F(){var t=Object(l.a)(["\n\ttransition-duration: 100ms;\n\t/* fill: ","; */\n\tfill-opacity: 1;\n\t/* stroke: ","; */\n\tstroke-width: 1;\n\t/* stroke-width: ","; */\n\t/* stroke: ","; */\n\t&:hover {\n\t\t/* stroke: ","; */\n\t}\n"]);return F=function(){return t},t}function N(){var t=Object(l.a)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\tpadding-top: ",";\n\tpadding-left: ",";\n\tpadding-right: ",";\n\tpadding-bottom: ",";\n\tmax-width: 100%;\n\tmin-height: 100%;\n\n\theight: 100vh;\n\t.map {\n\t\tborder: 1px solid red;\n\t}\n\t.legend {\n\t\tposition: absolute;\n\n\t\tbottom: 0;\n\t\tleft: 10px;\n\t}\n"]);return N=function(){return t},t}var E=u.default.div(N(),j(32),j(32),j(32),j(32)),P=u.default.circle(F(),(function(t){return t.active,b.blue}),(function(t){return t.active?t.fill:b.blue}),(function(t){return t.active?1:3}),(function(t){return t.fill}),(function(t){return b.red})),C=function(t){var e=t.children,n=t.path,a=t.activeProvince,c=t.setActiveProvince,o=t.size,l=x(),u=Object(i.useState)({x:0,y:0,k:1}),d=Object(s.a)(u,2),f=d[0],b=f.x,j=f.y,h=f.k,v=d[1],g=function(t){var e=t.transform;v(e)};return Object(i.useEffect)((function(){if(l&&o){var t=Object(p.j)(l),e=o.width,r=o.height,i=Object(p.k)().scaleExtent([1,8]).on("zoom",g),u=Object(p.j)(a).node();if(a){var d=n.bounds(u),f=Object(s.a)(d,2),b=Object(s.a)(f[0],2),j=b[0],h=b[1],v=Object(s.a)(f[1],2),O=v[0],m=v[1];t.selectAll("path"),t.transition().duration(750).call(i.transform,p.l.translate(e/2,r/2).scale(Math.min(8,.9/Math.max((O-j)/e,(m-h)/r))).translate(-(j+O)/2,-(h+m)/2))}else t.transition().duration(750).call(i.transform,p.l,Object(p.m)(t.node()).invert([e/2,r/2])),c(null);t.call(i)}}),[l,a]),Object(r.jsx)("g",{transform:"translate(".concat(b,", ").concat(j,") scale(").concat(h,")"),strokeWidth:1/h,children:e})},U=(n(52),function(t){var e=t.colorScale,n=t.tickSpacing,i=void 0===n?25:n,a=t.tickSize,c=void 0===a?8:a,o=t.tickTextOffset,s=void 0===o?25:o,l=t.selectUsage,u=t.selectedUsage,d=t.fadeOpacity,f=t.LegendLabel;t.className;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("g",{transform:"translate(".concat(30,", 500)"),children:[Object(r.jsx)("text",{x:35,y:-25,className:"axis-label",textAnchor:"middle",children:f}),e.domain().map((function(t,n){return Object(r.jsxs)("g",{className:"tick",transform:"translate(0,".concat(n*i,")"),onMouseEnter:function(){l(t)},onMouseOut:function(){l(null)},children:[Object(r.jsx)(P,{fill:e(t),r:c,opacity:u&&t!==u?d:1}),Object(r.jsx)("text",{x:s,dy:".32em",children:t})]},n)}))]})})});function G(){var t=Object(l.a)(["\n\ttransition-duration: 300ms;\n\t/* fill: ","; */\n\tfill-opacity: 1;\n\t/* stroke: ","; */\n\t/* stroke-width: 0.5; */\n\tstroke-width: ",";\n\t&:hover {\n\t\tfill: ",";\n\t}\n"]);return G=function(){return t},t}function D(){var t=Object(l.a)(["\n\t/* transition-duration: 700ms; */\n\n\t:hover {\n\t\topacity: 0.7;\n\t}\n"]);return D=function(){return t},t}var A=function(t){return t.capacity},M=function(t){var e=t.d,n=t.active,i=t.onClick;return Object(r.jsx)(L,{className:n?"province active":"province",d:e,onClick:i,title:e.properties})},L=u.default.path(D()),R=function(t){var e=t.data,n=t.projection,i=t.colorScale,a=t.colorValue,c=(t.filteredUsage,t.activeProvince),o=t.selectedUsage,l=t.fadeOpacity,u=t.sizeScale,d=t.sizeValue;return Object(r.jsx)("g",{className:"parking-locations",children:e.map((function(t){var e=n([t.longitude,t.latitude]),f=Object(s.a)(e,2),b=f[0],j=f[1];return Object(r.jsx)(V,{cx:b,cy:j,r:function(t){return c&&c.properties.statnaam===t.province?1.2:c?1:u(d(t))}(t),fill:i(a(t)),selectedUsage:o,usage:t.usage,opacity:o&&t.usage!==o?l:.8},t.id)}))})},V=u.default.circle(G(),(function(t){return t.active,b.blue}),(function(t){return t.active?b.red:b.blue}),(function(t){return t.active?1:3}),b.darkBlue),T=function(t){var e=t.nld,n=t.penr,a=(t.size,t.setSize,t.filteredUsage),c=t.colorScale,o=t.colorValue,l=t.selectedUsage,u=t.fadeOpacity,d=t.children,f=t.activeProvince,b=t.setActiveProvince,j=t.setSelectedUsage,h=(e.gemeente,e.gemeenteBorder),v=e.province,g=e.provinceBorder,m=Object(i.useState)(null),x=Object(s.a)(m,2),y=(x[0],x[1],Object(i.useRef)()),w=function(t){var e=Object(i.useState)(O(t?t.current:null)),n=Object(s.a)(e,2),r=n[0],a=n[1],c=Object(i.useCallback)((function(){t.current&&a(O(t.current))}),[t]);return Object(i.useLayoutEffect)((function(){var e=t.current;if(e){if(c(),"function"===typeof ResizeObserver){var n=new ResizeObserver((function(){return c()}));return n.observe(e),function(){n&&(n.disconnect(),n=null)}}return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}}),[t,c]),r}(y),S=w.width,z=w.height,B=Object(p.b)(g),F=Object(p.c)().translate([S/2,z/2]).scale(6e3).center(B),N=Object(p.d)().projection(F),E=Object(i.useMemo)((function(){return Object(p.i)().domain([0,Object(p.f)(n,A)]).range([0,10])}),[e,n,A,10]);return Object(i.useEffect)((function(){}),[w]),Object(r.jsxs)("div",{className:"viz-wrapper",ref:y,children:[Object(r.jsxs)(k,{className:"map",size:w,children:[Object(r.jsxs)(C,{setActiveProvince:b,activeProvince:f,path:N,size:w,children:[Object(i.useMemo)((function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("path",{className:"gemeente-borders",d:N(h)}),Object(r.jsx)("g",{className:"provinces",children:v.features.map((function(t){return Object(r.jsx)(M,{data:t,d:N(t),title:t.properties.statnaam,active:f===t,onClick:function(){return function(t){return null===f||f!==t?b(t):f===t?b(null):void 0}(t)}},t.id)}))}),Object(r.jsx)("path",{className:"province-borders",d:N(g)})]})}),[N,v,g,h]),Object(r.jsx)(R,{filteredUsage:a,data:n,projection:F,colorScale:c,colorValue:o,activeProvince:f,selectedUsage:l,fadeOpacity:u,sizeScale:E,sizeValue:A})]}),Object(r.jsx)(U,{className:"legend",penr:n,selectUsage:j,selectedUsage:l,colorScale:c,colorValue:o,tickSpacing:22,tickSize:10,tickTextOffset:12,fadeOpacity:.2,LegendLabel:"Gebruik",dimensions:w})]}),d]})};function W(){var t=Object(l.a)([""]);return W=function(){return t},t}u.default.g(W());var I=function(){var t=function(){var t=Object(i.useState)(null),e=Object(s.a)(t,2),n=e[0],r=e[1];return Object(i.useEffect)((function(){Object(p.e)("https://gist.githubusercontent.com/GiovanniDw/9ebe42d142f40e58e333e546a82f9b0d/raw/1f4e17c5e2a072e12ed5b2dce628413294a13c5e/nl_2020.json").then((function(t){var e=t.objects,n=e.gemeente_2020,i=e.provincie_2020;r({gemeente:Object(v.a)(t,n),gemeenteBorder:Object(v.b)(t,n,(function(t,e){return t!==e})),province:Object(v.a)(t,i),provinceBorder:Object(v.b)(t,i,(function(t,e){return t!==e}))})}))}),[]),n}(),e=function(){var t=Object(i.useState)(null),e=Object(s.a)(t,2),n=e[0],r=e[1];return Object(i.useEffect)((function(){Object(p.a)(";","https://gist.githubusercontent.com/GiovanniDw/9ebe42d142f40e58e333e546a82f9b0d/raw/5f69fabb70e85ae64cf19633aadd38fcf26a75a4/parkeerData.csv",g).then(r)}),[]),n}(),n=(function(){var t=Object(i.useState)(null),e=Object(s.a)(t,2),n=e[0],r=e[1];Object(i.useEffect)((function(){Object(p.e)("https://unpkg.com/world-atlas@2.0.2/countries-10m.json").then((function(t){var e=t.objects,n=e.countries,i=e.land;r({land:Object(v.a)(t,i),countries:Object(v.b)(t,n,(function(t,e){return t!==e}))})}))}),[])}(),Object(i.useState)(null)),a=Object(s.a)(n,2),c=a[0],o=a[1],l=Object(i.useState)(null),u=Object(s.a)(l,2),d=u[0],f=u[1];if(!t||!e)return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(S,{})});var j=function(t){return t.usage},O=e.filter((function(t){return c===j(t)})),m=Object(p.h)().domain(e.map(j)).range([b.darkBlue,b.darkGray,b.yellow]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E,{children:Object(r.jsx)(T,{nld:t,penr:e,selectedUsage:c,filteredUsage:O,colorScale:m,colorValue:j,fadeOpacity:.2,setActiveProvince:f,activeProvince:d,setSelectedUsage:o,children:Object(r.jsxs)("h1",{className:"title",children:["Parkeer plaatsen van Nederland"," ",d?"in ".concat(d.properties.statnaam):""]})})}),Object(r.jsx)(h,{})]})},_=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,146)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),r(t),i(t),a(t),c(t)}))};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root")),_()}},[[145,1,2]]]);
//# sourceMappingURL=main.1f002a7f.chunk.js.map