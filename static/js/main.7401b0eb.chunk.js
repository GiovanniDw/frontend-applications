(this["webpackJsonpfrontend-applications"]=this["webpackJsonpfrontend-applications"]||[]).push([[0],{188:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),i=n.n(a),c=n(51),o=n.n(c),s=n(3),l=(n(180),n(5)),u=n(4),d=n(52);function f(){var e=Object(l.a)(["\n    ",";\n\n\t* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n  html {\n\t\n\t  box-sizing: border-box;\n        overflow-y: scroll;\n\t\t\n  }\n  #root {\n\t  ","\n\t  ","\n\t  ","\n\t  padding-top: min(16px, env(safe-area-inset-top));\n\t  padding-left: min(16px, env(safe-area-inset-left));\n        padding-right: min(16px, env(safe-area-inset-right));\n        padding-bottom: min(16px, env(safe-area-inset-bottom));\n\t\t\n  }\n  :root {\n\t--safe-area-inset-top   : 16px;\n    --safe-area-inset-right : 16px;\n    --safe-area-inset-bottom: 16px;\n    --safe-area-inset-left  : 16px;  \n\tbody {\n\t\tbackground-color: ",";\n\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',\n\t\t'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',\n\t\t'Helvetica Neue', sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\t","\n\tmin-width:100vw;\n\t\tmin-height:100vh;\n\t\n\t}\n\tcode {\n\tfont-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n\t\tmonospace;\n}\n\n      font-size: ",";\n\n      @media (min-width: 768px) {\n        font-size: ",";\n      }\n\n      @media (min-width: 1024px) {\n        font-size: ",";\n      }\n    }\n\n\n.App {\n  background-color: ",";\n  max-width:100vw;\n\tmax-height:100vh;\n  ","\n}\n.viz-wrapper {\n\twidth:100%;\n\theight:100%;\n\tdisplay:flex;\n\tposition:relative;\n\n\t.title {\n\t\tposition: absolute;\n\t\tpadding-left:1em;\n\t}\n}\n\n.province {\n\tstroke-opacity: 0.5;\n\tstroke-width: 1px;\n\t/* stroke: none; */\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n}\n.gemeente {\n\tfill-opacity: 1;\n\t\n\t/* stroke: white; */\n}\n.gemeente-borders{\n\tfill: none;\n\tstroke: ",";\n\t","\n\tstroke-linejoin: round;\n\t","\n\tpointer-events: none;\n}\n.provinces {\n\tfill: ",";\n\tstroke: ",";\n\t","\n}\n\n.provinces .active {\n\topacity: .8;\n\ttransition: visibility 0s, opacity 0.3s linear;\n}\n\n.province-borders {\n\tfill: none;\n\tstroke: var(--white);\n\tstroke-width: 1;\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n\tpointer-events: none;\n}\n\n.gemeente-grens {\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n\tstroke: ",";\n\tstroke-opacity: 1;\n\t/* stroke-width: 0.1em; */\n\t/* transition-duration: 0.5s; */\n\tfill: ",";\n}\n\n.legend-label {\n\tfont-weight:bold;\n}\n\n    "]);return f=function(){return e},e}var b={darkBlue:"#2F80ED",blue:"#2D9CDB",lightBlue:"#B3E5FC",dark:"#333333",darkGray:"#4F4F4F",midGray:"#828282",lightGray:"#BDBDBD",light:"#E0E0E0",white:"#F2F2F2",darkGreen:"#219653",green:"#27AE60",lightGreen:"#6FCF97",orange:"#F2994A",darkPurple:"#9B51E0",purple:"#BB6BD9",red:"#EB5757",yellow:"#F2C94C"},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1440;return"".concat(e/t*100,"vw")},v=Object(u.createGlobalStyle)(f(),d.normalize,"","","",b.white,"",j(30),j(35),j(40),b.white,"",b.lightGreen,"","",b.lightGreen,b.white,"",b.green,b.lightGreen),h=n(2),p=n(7),g=n(23),O=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){Object(h.c)(";","https://gist.githubusercontent.com/GiovanniDw/9ebe42d142f40e58e333e546a82f9b0d/raw/5f69fabb70e85ae64cf19633aadd38fcf26a75a4/parkeerData.csv",h.b,(function(e){return function(e){if(e.province)e.province=e.province.replace("Frysl\xe2n","Friesland")}(e),function(e){e.usage=e.usage.replace("park and ride","P+R Parkeerplaats").replace("garage","Parkeergarage").replace("terrain","Parkeerterrein")}(e),e.id=+e.id,e.minimumHeightInMeters=+e.minimumHeightInMeters,e.latitude=+e.latitude,e.longitude=+e.longitude,e.capacity=+e.capacity,e})).then((function(e){var t=function(e){return Object(h.j)(e,(function(e){return e})).keys((function(e){return e.usage}))}(e),n=function(e){if(e&&null!==e){var t=Object(h.p)(e,(function(e){return Object(g.sum)(e,(function(e){return e.capacity}))}),(function(e){return e.province}));return Object(h.o)(e,(function(e){return Object(g.sum)(e,(function(e){return e.capacity}))}),(function(e){return e.usage})),t}}(e);r({allData:e,byUsage:n,nested:t})}))}),[]),n};var m=function(e){var t=Object(a.useState)(x(e?e.current:null)),n=Object(s.a)(t,2),r=n[0],i=n[1],c=Object(a.useCallback)((function(){e.current&&i(x(e.current))}),[e]);return Object(a.useLayoutEffect)((function(){var t=e.current;if(t){if(c(),"function"===typeof ResizeObserver){var n=new ResizeObserver((function(){return c()}));return n.observe(t),function(){n&&(n.disconnect(),n=null)}}return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}}),[e,c]),r};function x(e){return e?e.getBoundingClientRect():{bottom:0,height:0,left:0,right:0,top:0,width:0}}var k=Object(a.createContext)(null),y=function(e){var t=e.size,n=e.children,i=e.className;if(t){var c=t.width,o=t.height,l=Object(a.useRef)(null),u=Object(a.useState)(null),d=Object(s.a)(u,2),f=d[0],b=d[1];return Object(a.useEffect)((function(){return b(l.current)}),[]),Object(r.jsx)("svg",{className:i,ref:l,viewBox:"0 0 ".concat(c," ").concat(o),width:c,height:o,children:Object(r.jsx)(k.Provider,{value:f,children:n})})}};function w(){return Object(a.useContext)(k)}function S(){var e=Object(l.a)(["\n\theight: 100vh;\n\twidth: 100vw;\n\tbackground: ",";\n\tz-index: 4;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]);return S=function(){return e},e}function z(){var e=Object(l.a)(["\n\tanimation: rotate 2s linear infinite;\n\tmargin: -25px 0 0 -25px;\n\twidth: 50px;\n\theight: 50px;\n\n\t& .path {\n\t\tstroke: ",";\n\t\tstroke-linecap: round;\n\t\tanimation: dash 1.5s ease-in-out infinite;\n\t}\n\n\t@keyframes rotate {\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t@keyframes dash {\n\t\t0% {\n\t\t\tstroke-dasharray: 1, 150;\n\t\t\tstroke-dashoffset: 0;\n\t\t}\n\t\t50% {\n\t\t\tstroke-dasharray: 90, 150;\n\t\t\tstroke-dashoffset: -35;\n\t\t}\n\t\t100% {\n\t\t\tstroke-dasharray: 90, 150;\n\t\t\tstroke-dashoffset: -124;\n\t\t}\n\t}\n"]);return z=function(){return e},e}var P=function(){return Object(r.jsx)(B,{children:Object(r.jsxs)(N,{viewBox:"0 0 50 50",children:[Object(r.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"}),Object(r.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"}),Object(r.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"})]})})},N=u.default.svg(z(),b.green),B=u.default.div(S(),b.primary);function F(){var e=Object(l.a)(["\n\ttransition-duration: 100ms;\n\t/* fill: ","; */\n\tfill-opacity: 1;\n\t/* stroke: ","; */\n\tstroke-width: 1;\n\t/* stroke-width: ","; */\n\t/* stroke: ","; */\n\t&:hover {\n\t\t/* stroke: ","; */\n\t}\n"]);return F=function(){return e},e}function U(){var e=Object(l.a)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\tpadding-top: ",";\n\tpadding-left: ",";\n\tpadding-right: ",";\n\tpadding-bottom: ",";\n\tmax-width: 100%;\n\tmin-height: 100%;\n\n\theight: 100vh;\n\t.map {\n\t\tborder: 1px solid red;\n\t}\n\t.legend {\n\t\tposition: absolute;\n\n\t\tbottom: 0;\n\t\tleft: 10px;\n\t}\n"]);return U=function(){return e},e}var E=u.default.div(U(),j(32),j(32),j(32),j(32)),C=u.default.circle(F(),(function(e){return e.active,b.blue}),(function(e){return e.active?e.fill:b.blue}),(function(e){return e.active?1:3}),(function(e){return e.fill}),(function(e){return b.red})),D=function(e){var t=e.children,n=e.path,i=e.activeProvince,c=e.setActiveProvince,o=w(),l=Object(a.useState)({x:0,y:0,k:1}),u=Object(s.a)(l,2),d=u[0],f=d.x,b=d.y,j=d.k,v=u[1],p=function(e){var t=e.transform;v(t)};return Object(a.useEffect)((function(){if(o){var e=Object(h.t)(o),t=e.attr("width"),r=e.attr("height"),a=Object(h.u)().scaleExtent([1,10]).on("zoom",p),l=Object(h.t)(i).node();if(i){var u=n.bounds(l),d=Object(s.a)(u,2),f=Object(s.a)(d[0],2),b=f[0],j=f[1],v=Object(s.a)(d[1],2),g=v[0],O=v[1];e.selectAll("path"),e.transition().duration(750).call(a.transform,h.v.translate(t/2,r/2).scale(Math.min(8,.9/Math.max((g-b)/t,(O-j)/r))).translate(-(b+g)/2,-(j+O)/2))}else e.transition().duration(750).call(a.transform,h.v,Object(h.w)(e.node()).invert([t/2,r/2])),c(null);e.call(a)}}),[o,i]),Object(r.jsx)("g",{transform:"translate(".concat(f,", ").concat(b,") scale(").concat(j,")"),strokeWidth:1/j,children:t})},V=(n(58),function(e){var t=e.colorScale,n=e.tickSpacing,i=void 0===n?25:n,c=e.tickSize,o=void 0===c?8:c,s=e.tickTextOffset,l=void 0===s?-25:s,u=e.onHover,d=e.hoveredUsage,f=e.fadeOpacity,b=e.LegendLabel,j=(e.className,e.dimensions),v=e.sizeScale,p=j.width,g=(j.height,w()),O=Object(a.useRef)();return Object(a.useEffect)((function(){if(g){Object(h.t)(g);var e=Object(h.t)(O.current);e.append("text").text("Capaciteit Parkeergarage").attr("transform","translate(".concat(0,",80)")).attr("class","legend-label");var t=e.append("g").attr("fill","#444").attr("transform","translate(".concat(0,",120)")).attr("text-anchor","end").selectAll("g").data([100,1e3,2400]).join("g");t.append("circle").attr("fill","none").attr("stroke","#444").attr("cy",(function(e){return-v(e)})).attr("r",v),t.append("text").attr("y",(function(e){return-10-2*v(e)})).attr("x",l).attr("dy","1.3em").text(Object(h.d)(".0f")).attr("class","legend-text")}}),[g,O]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("g",{transform:"translate(".concat(p-20,", ",100,")"),textAnchor:"end",children:[Object(r.jsxs)("g",{className:"color-legend",children:[Object(r.jsx)("text",{x:0,y:-25,className:"legend-label",children:b}),t.domain().map((function(e,n){return Object(r.jsxs)("g",{className:"tick",transform:"translate(0,".concat(n*i,")"),onMouseEnter:function(){u(e)},onMouseOut:function(){u(null)},children:[Object(r.jsx)("text",{x:l,dy:".32em",children:e}),Object(r.jsx)(C,{fill:t(e),r:o,opacity:d&&e!==d?f:1})]},n)}))]}),Object(r.jsx)("g",{ref:O,className:"size-legend"})]})})});function A(){var e=Object(l.a)(["\n\ttransition-duration: 300ms;\n\t/* fill: ","; */\n\tfill-opacity: 1;\n\t/* stroke: ","; */\n\t/* stroke-width: 0.5; */\n\t/* stroke-width: ","; */\n\t&:hover {\n\t\tstroke: ",";\n\t}\n"]);return A=function(){return e},e}function M(){var e=Object(l.a)(["\n\t/* transition-duration: 700ms; */\n\n\t:hover {\n\t\topacity: 0.7;\n\t}\n"]);return M=function(){return e},e}var R=function(e){var t=e.nld,n=e.data,i=e.colorScale,c=e.colorValue,o=e.sizeScale,s=e.sizeValue,l=e.activeProvince,u=e.activateProvince,d=e.setActiveProvince,f=e.filteredUsage,b=e.hoveredUsage,j=e.fadeOpacity,v=e.dimensions,p=(t.gemeente,t.gemeenteBorder),g=t.province,O=t.provinceBorder,m=v.width,x=v.height,k=Object(h.h)().translate([m/2,x/2]),y=Object(h.i)().projection(k),w=Object(h.f)(g),S=Object(h.e)(g),z=m/Object(h.g)(S[1],S[0])/Math.sqrt(2);return k.scale(z).center(w),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(D,{setActiveProvince:d,activeProvince:l,path:y,size:v,width:m,height:x,children:[Object(a.useMemo)((function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("g",{className:"gemeentes",children:Object(r.jsx)("path",{className:"gemeente-borders",d:y(p)})}),Object(r.jsxs)("g",{className:"provinces",children:[g.features.map((function(e){return Object(r.jsx)(G,{data:e,d:y(e),title:e.properties.statnaam,active:l===e,onClick:function(){return u(e)}},e.id)})),Object(r.jsx)("path",{className:"province-borders",d:y(O)})]})]})}),[y,g,O,p]),Object(r.jsx)(L,{filteredUsage:f,data:n,projection:k,colorScale:i,colorValue:c,activeProvince:l,hoveredUsage:b,fadeOpacity:j,sizeScale:o,sizeValue:s})]})})},G=function(e){var t=e.d,n=e.active,a=e.onClick;return Object(r.jsx)(H,{className:n?"province active":"province",d:t,onClick:a,title:t.properties})},H=u.default.path(M()),L=function(e){var t=e.data,n=e.projection,a=e.colorScale,i=e.colorValue,c=(e.filteredUsage,e.activeProvince,e.hoveredUsage),o=e.fadeOpacity,l=e.sizeScale,u=e.sizeValue;return Object(r.jsx)("g",{className:"parking-locations",children:t.map((function(e){var t=n([e.longitude,e.latitude]),d=Object(s.a)(t,2),f=d[0],b=d[1];return Object(r.jsx)(I,{cx:f,cy:b,r:l(u(e)),fill:a(i(e)),hoveredUsage:c,usage:e.usage,opacity:c&&e.usage!==c?o:.8,children:Object(r.jsxs)("title",{children:[" ",e.name]})},e.id)}))})},I=u.default.circle(A(),(function(e){return e.active,b.blue}),(function(e){return e.active?b.red:b.blue}),(function(e){return e.active?1:3}),b.white),T=function(e){var t=e.data,n=e.dimensions,i=(e.sizeScale,e.sizeValue,e.colorValue,e.colorScale),c=(e.filteredProvince,e.activeProvince,e.provinceValue,n.width),o=n.height,s=Object(h.p)(t,(function(e){return e.length}),(function(e){return e.usage})),l=w(),u=Object(a.useRef)(),d=Object(a.useRef)(s),f=m(u);return Object(a.useEffect)((function(){t&&n&&u&&f&&(console.log(d),function(e){var t=Math.min(c,o)/10-1,n=Object(h.n)().padAngle(0).value((function(e){return e[1]})).sort(null),r=Object(h.a)().innerRadius(20).outerRadius(t),a=n(e),s=n(d.current),l=Object(h.t)(u.current).selectAll("g.arc").data(a);l.exit().remove(),l.enter().append("g").attr("class","arc").on("mouseover",(function(e){return console.log(i(e))})).append("path").merge(l.select("path.arc")).attr("class","arc").transition().attrTween("d",(function(e,t){var n=Object(h.k)(s[t],e);return function(e){return r(n(e))}})).style("fill",(function(e){return i(e.data[0])})).style("stroke","#ffffff").style("stroke-width",2)}(s),d.current=s)}),[l,t,u,n]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("g",{transform:"translate(".concat(c-10-f.width/2,", ").concat(o-10-f.width/2,")"),children:Object(r.jsx)("g",{ref:u,className:"pie-chart"})})})},W=function(e){var t=e.nld,n=e.data,i=e.filteredUsage,c=e.filteredData,o=e.colorScale,l=e.colorValue,u=e.sizeValue,d=e.hoveredUsage,f=e.fadeOpacity,b=e.children,j=e.activeProvince,v=e.setActiveProvince,p=e.setHoveredUsage,g=(t.gemeente,t.gemeenteBorder,t.province,t.provinceBorder,n.allData),O=Object(a.useState)(null),x=Object(s.a)(O,2),k=(x[0],x[1],Object(a.useState)(10)),w=Object(s.a)(k,2),S=w[0],z=w[1],P=Object(a.useRef)(),N=m(P),B=Object(a.useMemo)((function(){return Object(h.s)().domain([0,Object(h.m)(g,u)]).range([0,S])}),[t,n,u,S]);return Object(a.useEffect)((function(){}),[N]),Object(r.jsxs)("div",{className:"viz-wrapper",ref:P,children:[Object(r.jsxs)(y,{className:"map",size:N,children:[Object(r.jsx)(R,{nld:t,data:c,colorScale:o,colorValue:l,activeProvince:j,activateProvince:function(e){if(null===j||j!==e)return v(e),void z(5);j===e&&(v(null),z(10),console.log(c))},hoveredUsage:d,filteredUsage:i,fadeOpacity:f,sizeScale:B,sizeValue:u,dimensions:N,setActiveProvince:v}),Object(r.jsx)(V,{className:"legend",data:g,onHover:p,hoveredUsage:d,colorScale:o,colorValue:l,tickSpacing:22,tickSize:8,tickTextOffset:-18,fadeOpacity:.2,LegendLabel:"Soort Parkeermogelijkheid",dimensions:N,sizeScale:B}),Object(r.jsx)(T,{data:c,onHover:p,hoveredUsage:d,filteredUsage:i,colorScale:o,colorValue:l,sizeValue:u,fadeOpacity:.2,setActiveProvince:v,activeProvince:j,setHoveredUsage:p,dimensions:N,sizeScale:B})]}),b]})};function _(){var e=Object(l.a)([""]);return _=function(){return e},e}u.default.g(_());var J=function(){var e=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){Object(h.l)("https://gist.githubusercontent.com/GiovanniDw/9ebe42d142f40e58e333e546a82f9b0d/raw/1f4e17c5e2a072e12ed5b2dce628413294a13c5e/nl_2020.json").then((function(e){var t=e.objects,n=t.gemeente_2020,a=t.provincie_2020;r({gemeente:Object(p.a)(e,n),gemeenteBorder:Object(p.b)(e,n,(function(e,t){return e!==t})),province:Object(p.a)(e,a),provinceBorder:Object(p.b)(e,a,(function(e,t){return e!==t}))})}))}),[]),n}(),t=O(),n=(function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){Object(h.l)("https://unpkg.com/world-atlas@2.0.2/countries-10m.json").then((function(e){var t=e.objects,n=t.countries,a=t.land;r({land:Object(p.a)(e,a),countries:Object(p.b)(e,n,(function(e,t){return e!==t}))})}))}),[])}(),Object(a.useState)(null)),i=Object(s.a)(n,2),c=i[0],o=i[1],l=Object(a.useState)(null),u=Object(s.a)(l,2),d=u[0],f=u[1],j=Object(a.useRef)();if(!e||!t)return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(P,{})});var g=function(e){return e.usage},m=[b.darkBlue,b.darkGray,b.yellow],x=t.allData.filter((function(e){return c===g(e)})),k=function(){try{return t.allData.filter((function(e){return d.properties.statnaam===function(e){return e.province}(e)}))}catch(e){return t.allData}}(),y=Object(h.r)().domain(t.allData.map(g)).range(m);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E,{ref:j,children:Object(r.jsx)(W,{nld:e,data:t,hoveredUsage:c,filteredUsage:x,filteredData:k,colorScale:y,colorValue:g,sizeValue:function(e){return e.capacity},fadeOpacity:.2,setActiveProvince:f,activeProvince:d,setHoveredUsage:o,children:Object(r.jsxs)("h1",{className:"title",children:["Parkeer plaatsen van Nederland"," ",Object(r.jsx)("span",{className:"current-province",onClick:function(){return f(null)},children:d?"in ".concat(d.properties.statnaam):""})]})})}),Object(r.jsx)(v,{})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,189)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.getElementById("root")),q()}},[[188,1,2]]]);
//# sourceMappingURL=main.7401b0eb.chunk.js.map