(this["webpackJsonpfrontend-applications"]=this["webpackJsonpfrontend-applications"]||[]).push([[0],{140:function(e,t,n){},141:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),i=n.n(r),a=n(44),o=n.n(a),s=(n(140),n(2)),l=(n(141),n(7)),u=n(5),j=n(45);function d(){var e=Object(l.a)(["\n    ",";\n.App {\n  background-color: ",";\n  width: 100%;\n  height: 100%;\n}\n\n\n.provinces {\n\tfill: ",";\n\tstroke: ",";\n}\n\n.provinces .active {\n\topacity: .5;\n\ttransition: visibility 0s, opacity 0.5s linear;\n}\n\n.province-borders {\n\tfill: none;\n\tstroke: var(--white);\n\tstroke-width: 1;\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n\tpointer-events: none;\n}\n\n.gemeente-grens {\n\tstroke-linejoin: round;\n\tstroke-linecap: round;\n\tstroke: ",";\n\tstroke-opacity: 1;\n\t/* stroke-width: 0.1em; */\n\t/* transition-duration: 0.5s; */\n\tfill: ",";\n}\n\n    "]);return d=function(){return e},e}var f="#2F80ED",b="#2D9CDB",O="#F2F2F2",v="#27AE60",p="#6FCF97",h="#EB5757",g=Object(u.createGlobalStyle)(d(),j.normalize,O,p,O,v,p),m=n(3),x=n(8);var k=function(){var e=Object(r.useState)({width:void 0,height:void 0}),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){c({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},w=(n(51),Object(r.createContext)(null)),S=function(e){var t=e.size,n=e.children,i=t.width,a=t.height,o=Object(r.useRef)(null),l=Object(r.useState)(null),u=Object(s.a)(l,2),j=u[0],d=u[1];return Object(r.useEffect)((function(){return d(o.current)}),[]),Object(c.jsx)("svg",{ref:o,viewBox:"0 0 ".concat("800"," ","600"),width:i,height:a,children:Object(c.jsx)(w.Provider,{value:j,children:n})})};function y(){return Object(r.useContext)(w)}var E=function(e){var t=e.children,n=e.path,i=e.activeProvince,a=e.size,o=e.setActiveProvince,l=a.width,u=a.height,j=y(),d=Object(r.useState)({x:0,y:0,k:1}),f=Object(s.a)(d,2),b=f[0],O=b.x,v=b.y,p=b.k,h=f[1],g=function(e){var t=e.transform;h(t)};return Object(r.useEffect)((function(){if(j){var e=Object(m.h)(j),t=Object(m.i)().scaleExtent([1,8]).on("zoom",g);if(i){var c=Object(m.h)(i).node(),r=n.bounds(c),a=Object(s.a)(r,2),d=Object(s.a)(a[0],2),f=d[0],b=d[1],O=Object(s.a)(a[1],2),v=O[0],p=O[1];e.transition().duration(750).call(t.transform,m.j.translate(l/4,u/4).scale(Math.min(8,.9/Math.max((v-f)/l,(p-b)/u))).translate(-(f+v)/2,-(b+p)/2))}else e.transition().duration(750).call(t.transform,m.j,Object(m.k)(e.node()).invert([l/2,u/2])),o(null);e.call(t)}}),[j,i]),Object(c.jsx)("g",{transform:"translate(".concat(O,", ").concat(v,") scale(").concat(p,")"),strokeWidth:1/p,children:t})};function F(){var e=Object(l.a)(["\n\ttransition-duration: 700ms;\n\t/* fill: ","; */\n\tfill-opacity: 0.7;\n\tstroke: ",";\n\t/* stroke-width: 0.5; */\n\t&:hover {\n\t\tfill: ",";\n\t}\n"]);return F=function(){return e},e}function z(){var e=Object(l.a)(["\n\t/* transition-duration: 700ms; */\n\n\t:hover {\n\t\topacity: 0.7;\n\t}\n"]);return z=function(){return e},e}var C=function(e){var t=e.d,n=e.active,r=e.onClick;return Object(c.jsx)(L,{className:n?"province active":"province",d:t,onClick:r,title:t.properties})},L=u.default.path(z()),A=function(e){var t=e.data,n=e.projection,r=e.colorScale,i=e.colorValue;return console.log(t.length),Object(c.jsx)(c.Fragment,{children:t.map((function(e){var t=n([e.longitude,e.latitude]),a=Object(s.a)(t,2),o=a[0],l=a[1];return Object(c.jsx)(B,{cx:o,cy:l,r:1,fill:r(i(e))},e.id)}))})},B=u.default.circle(F(),(function(e){return e.active,b}),(function(e){return e.active?h:b}),f),N=function(e){var t=e.nld,n=e.penr,i=e.size,a=e.filteredUsage,o=e.colorScale,l=e.colorValue,u=t.gemeente,j=t.province,d=t.provinceBorder,f=Object(m.b)().scale(6e3).center([5.6,52.2]),b=Object(m.c)().projection(f),O=Object(r.useState)(null),v=Object(s.a)(O,2),p=v[0],h=v[1],g=Object(r.useState)(null),x=Object(s.a)(g,2);x[0],x[1];return Object(r.useEffect)((function(){}),[]),Object(c.jsxs)(E,{setActiveProvince:h,activeProvince:p,path:b,size:i,children:[Object(c.jsx)("g",{className:"gemeentes",children:u.features.map((function(e){return Object(c.jsx)("path",{className:"gemeente-grens",d:b(e)},e.id)}))}),Object(c.jsx)("g",{className:"provinces",children:j.features.map((function(e){return Object(c.jsx)(C,{data:e,d:b(e),title:e.properties.statnaam,active:p===e,onClick:function(){return function(e){return null===p||p!==e?h(e):p===e?h(null):void 0}(e)}},e.id)}))}),Object(c.jsx)("path",{className:"province-borders",d:b(d)}),Object(c.jsx)(A,{data:n,projection:f,colorScale:o,colorValue:l}),Object(c.jsx)(A,{data:a,projection:f,colorScale:o,colorValue:l})]})};function P(){var e=Object(l.a)([""]);return P=function(){return e},e}u.default.g(P());var D=function(e){var t=e.colorScale,n=e.tickSpacing,r=void 0===n?20:n,i=e.tickSize,a=void 0===i?10:i,o=e.tickTextOffset,s=void 0===o?20:o,l=e.selectUsage,u=e.selectedUsage,j=e.fadeOpacity,d=e.LegendLabel;return Object(c.jsxs)("g",{transform:"translate(".concat(110,", 60)"),children:[Object(c.jsx)("text",{x:35,y:-25,className:"axis-label",textAnchor:"middle",children:d}),t.domain().map((function(e,n){return Object(c.jsxs)("g",{className:"tick",transform:"translate(10,".concat(n*r,")"),onMouseEnter:function(){console.log(e),l(e)},onMouseOut:function(){l(null)},opacity:u&&e!==u?j:1,children:[Object(c.jsx)("circle",{fill:t(e),r:a}),Object(c.jsx)("text",{x:s,dy:".32em",children:e})]},n)}))]})},U=function(){var e=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){Object(m.d)("https://gist.githubusercontent.com/GiovanniDw/9ebe42d142f40e58e333e546a82f9b0d/raw/1f4e17c5e2a072e12ed5b2dce628413294a13c5e/nl_2020.json").then((function(e){var t=e.objects,n=t.gemeente_2020,r=t.provincie_2020;c({gemeente:Object(x.a)(e,n),province:Object(x.a)(e,r),provinceBorder:Object(x.b)(e,r,(function(e,t){return e!==t}))})}))}),[]),n}(),t=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){Object(m.a)("https://gist.githubusercontent.com/GiovanniDw/9ebe42d142f40e58e333e546a82f9b0d/raw/55947d8316f6ab6cf5aa564229e5461d9414bf5b/openParking.csv",(function(e){return e.province=e.province.replace("Frysl\xe2n","Friesland"),e.latitude=+e.latitude,e.longitude=+e.longitude,e.capacity=+e.capacity,e})).then(c)}),[]),n}(),n=(function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){Object(m.d)("https://unpkg.com/world-atlas@2.0.2/countries-10m.json").then((function(e){var t=e.objects,n=t.countries,r=t.land;c({land:Object(x.a)(e,r),countries:Object(x.b)(e,n,(function(e,t){return e!==t}))})}))}),[])}(),k()),i=Object(r.useState)(null),a=Object(s.a)(i,2),o=a[0],l=a[1];if(!e||!t||!n)return Object(c.jsx)("pre",{children:"Loading..."});var u=function(e){return e.usage},j=t.filter((function(e){return o===u(e)})),d=Object(m.g)().domain(t.map(u)).range(["#E6842A","#137B80","#8E6C8A"]);return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)(S,{size:n,children:[Object(c.jsx)(N,{size:n,nld:e,penr:t,filteredUsage:j,colorScale:d,colorValue:u}),Object(c.jsx)(D,{penr:t,selectUsage:l,selectedUsage:o,colorScale:d,colorValue:u,tickSpacing:22,tickSize:10,tickTextOffset:12,fadeOpacity:3,LegendLabel:"Gebruik"})]}),Object(c.jsx)(g,{})]})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,149)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(U,{})}),document.getElementById("root")),V()}},[[148,1,2]]]);
//# sourceMappingURL=main.93d57322.chunk.js.map